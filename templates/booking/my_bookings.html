{% extends 'base.html' %}
{% block content %}
<h2>My Bookings</h2>
<table class="table table-bordered">
<thead>
<tr>
<th>ID</th><th>Travel</th><th>Seats</th><th>Total</th><th>Status</th><th>Booked
On</th><th></th>
</tr>
</thead>
<tbody>
 {% for b in bookings %}
<tr>
<td>#{{ b.booking_id }}</td>
<td>{{ b.travel_option.type }} {{ b.travel_option.source }} â†’
{{ b.travel_option.destination }} ({{ b.travel_option.date_time|date:'Y-m-d
H:i' }})</td>
<td>{{ b.number_of_seats }}</td>
<td>{{ b.total_price }}</td>
<td>
 {% if b.status == 'Cancelled' %}
<span class="badge bg-secondary">Cancelled</span>
 {% else %}
<span class="badge bg-success">Confirmed</span>
 {% endif %}
</td>
<td>{{ b.booking_date|date:'Y-m-d H:i' }}</td>
<td>
 {% if b.status != 'Cancelled' %}
<a class="btn btn-sm btn-outline-danger"
href="{% url 'cancel_booking' b.booking_id %}">Cancel</a>
 {% endif %}
</td>
</tr>
 {% empty %}
<tr><td colspan="7" class="text-center">No bookings yet.</td></tr>
 {% endfor %}
</tbody>
</table>
{% endblock %}